<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <style>
            #d1 {
                background-color: red;
                padding: 25px;
            }

            span {
                background-color: yellow;
            }
        </style>
    </head>
    <body>
        <h1>Curso Javascript Completo</h1>

        <button id="btn1" onclick="clicar()">botao 1</button>
        <button id="btn2">botao 2</button>
        <button id="btn3">botao 3</button>

        <div class="container">
            <h1>propagação de eventos</h1>

            <div id="d1">
                texto dentro da div
                <span>texto dentro da span</span>
            </div>
        </div>

        <div class="container">
            <h1>Delegação de eventos</h1>
            <ul>
                <li>Lista 1</li>
                <li>Lista 2</li>
                <li>Lista 3</li>
            </ul>
        </div>

        <script>
            let btn2 = document.querySelector("#btn2");
            let btn3 = document.querySelector("#btn3");

            btn2.onclick = clicar; //();

            function clicar() {
                alert("clicou");
                return function () {
                    alert("clicou 2");
                };
            }

            btn3.addEventListener("click", function () {
                alert("clicou");
            });

            btn3.addEventListener("click", function () {
                alert("clicou dnv");
            });

            var $d1 = document.querySelector("#d1");
            var $d1Span = document.querySelector("#d1 span");

            $d1.addEventListener(
                "click",
                function (evt) {
                    console.log("click no $d1");
                    evt.stopPropagation();
                },
                false
            );

            $d1Span.addEventListener(
                "click",
                function () {
                    console.log("click no $d1Span");
                },
                false
            );

            document.addEventListener(
                "click",
                function (evt) {
                    console.log("click no document");
                    console.log(evt.currentTarget);
                    console.log(this); //msm coisa que o currentTarget
                    console.log(evt.target);
                },
                false
            );

            var $ul = document.querySelector("ul");
            var $lis = document.querySelectorAll("li");

            var $lis = document.querySelectorAll("li");

            /*
            for (var i = 0; i < $lis.length; i++) {
                $lis[i].addEventListener("click", function (e) {
                    e.stopPropagation();
                    console.log("clicou na li");
                });
            }
            */

            $ul.addEventListener("click", function (e) {
                e.stopPropagation();
                console.log(this);
                console.log(e.target);
                console.log(e.currentTarget);

                console.log(e.target.nodeName);
                if (e.target.nodeName === "LI") {
                    alert("clicou na li");
                }
            });
        </script>
    </body>
</html>
